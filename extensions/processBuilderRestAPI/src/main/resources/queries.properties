#getLicenseToolsOrderByVersion=SELECT lt.* FROM licensetools lt INNER JOIN (SELECT DISTINCT version_pid FROM licensemanagement) lm ON lt.persistenceid = lm.version_pid ORDER BY CASE WHEN position('-' in version) > 0 THEN split_part(version, '-', 1)::decimal ELSE version::decimal END DESC LIMIT :c OFFSET (:p*:c)
#getLicenseToolsOrderByVersionCount=SELECT COUNT(1) FROM licensetools lt INNER JOIN licensemanagement lm ON lt.persistenceid = lm.version_pid
#getPurchasedLicenseBySfId=SELECT p.*, p.persistenceid::VARCHAR AS persistenceid_string FROM PurchasedLicense p WHERE p.sfId = :sfId :o LIMIT :c OFFSET (:p*:c)
#getPurchasedLicenseBySfIdCount=SELECT COUNT(1) FROM PurchasedLicense p WHERE p.sfId = :sfId
#getProductVersion=SELECT p.*, p.persistenceid::VARCHAR AS persistenceid_string FROM ProductVersion p WHERE ((:s = '' OR ( UPPER(CAST(p.product AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.label AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.technicalid AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.active AS TEXT)) LIKE '%'|| UPPER(:s) || '%' )) AND ((:xproduct ='-1' OR p.product = :xproduct) AND (:label ='-1' OR p.label = :label) AND (CAST(:active AS TEXT)  ='-1' OR CAST(p.active AS TEXT) = CAST(:active AS TEXT)) AND (CAST(:isBonitaAccess AS TEXT)  ='-1' OR CAST(p.isBonitaAccess AS TEXT) = CAST(:isBonitaAccess AS TEXT)) )) :o LIMIT :c OFFSET (:p*:c)
#getProductVersionCount=SELECT COUNT(1) FROM ProductVersion p WHERE ((:s = '' OR ( UPPER(CAST(p.product AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.label AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.technicalid AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.active AS TEXT)) LIKE '%'|| UPPER(:s) || '%' )) AND ((:xproduct ='-1' OR p.product = :xproduct) AND (:label ='-1' OR p.label = :label) AND (CAST(:active AS TEXT)  ='-1' OR CAST(p.active AS TEXT)  = CAST(:active AS TEXT)) AND (CAST(:isBonitaAccess AS TEXT)  ='-1' OR CAST(p.isBonitaAccess AS TEXT) = CAST(:isBonitaAccess AS TEXT)) ))
#getLicenseManagement=WITH aggregated_data AS ( SELECT p.persistenceid::VARCHAR AS persistenceid_string, version.versionDisplayed AS version_versionDisplayed, p.requestKey, licenseManagementType.name AS licenseManagementType_name, p.numberOfDays, subscription.persistenceid::VARCHAR AS subscription_persistenceid, subscription.sfid AS subscription_sfid, subscription.name AS subscription_name, STRING_AGG(COALESCE(purchasedLicense.persistenceid::VARCHAR, ''), ', ') AS purchasedLicenseIds, STRING_AGG(purchasedLicense.name || ' (' || purchasedLicense.type || ')', ', ') AS purchasedLicenseNames, COUNT(purchasedLicense.name) AS purchasedLicenseCount, TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auCreationDate, p.auCreationUser, TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auModificationDate, p.auModificationUser FROM LicenseManagement p INNER JOIN LicenseTools version ON p.version_pid = version.persistenceid INNER JOIN LicenseManagementType licenseManagementType ON p.licensemanagementtype_pid = licenseManagementType.persistenceid INNER JOIN Subscription subscription ON p.subscription_pid = subscription.persistenceid INNER JOIN Licensemanagem_licenses lml ON p.persistenceid = lml.licensemanagement_pid INNER JOIN PurchasedLicense purchasedLicense ON lml.purchasedlicense_pid = purchasedLicense.persistenceid   GROUP BY p.persistenceid, version.versionDisplayed, p.requestKey,  licenseManagementType.name,  p.numberOfDays, subscription_persistenceid, subscription_sfid, subscription.name,  p.auCreationDate, p.auCreationUser, p.auModificationDate, p.auModificationUser ) SELECT persistenceid_string, version_versionDisplayed, requestKey, licenseManagementType_name, numberOfDays, subscription_persistenceid, subscription_sfid, subscription_name, purchasedLicenseIds, purchasedLicenseNames AS purchasedLicenseNamesOriginal, '<span title="' || purchasedLicenseNames || '">' || purchasedLicenseCount || '</span>' AS purchasedLicenseNames, auCreationDate, auCreationUser, auModificationDate, auModificationUser FROM aggregated_data WHERE  :s = '' OR UPPER(persistenceid_string) LIKE '%' || UPPER(:s) || '%' OR UPPER(version_versionDisplayed) LIKE '%' || UPPER(:s) || '%' OR UPPER(requestKey) LIKE '%' || UPPER(:s) || '%' OR UPPER(licenseManagementType_name) LIKE '%' || UPPER(:s) || '%' OR UPPER(numberOfDays::TEXT) LIKE '%' || UPPER(:s) || '%' OR UPPER(subscription_persistenceid) LIKE '%' || UPPER(:s) || '%' OR  UPPER(subscription_sfid) LIKE '%' || UPPER(:s) || '%'  OR  UPPER(subscription_name) LIKE '%' || UPPER(:s) || '%' OR  UPPER(auCreationUser) LIKE '%' || UPPER(:s) || '%' OR UPPER(auModificationUser) LIKE '%' || UPPER(:s) || '%' OR UPPER(purchasedLicenseNames) LIKE '%' || UPPER(:s) || '%' OR auCreationDate LIKE '%' || UPPER(:s) || '%' OR auModificationDate LIKE '%' || UPPER(:s) || '%' :o LIMIT :c OFFSET (:p*:c)
#getLicenseManagementCount=WITH aggregated_data AS (  SELECT     p.persistenceid::VARCHAR AS persistenceid_string,     version.versionDisplayed AS version_versionDisplayed,    p.requestKey,   licenseManagementType.name AS licenseManagementType_name,    p.numberOfDays,  subscription.persistenceid::VARCHAR AS subscription_persistenceid, subscription.sfid AS subscription_sfid, subscription.name AS subscription_name,STRING_AGG(COALESCE(purchasedLicense.persistenceid::VARCHAR, ''), ', ') AS purchasedLicenseIds,   STRING_AGG(purchasedLicense.name || ' (' || purchasedLicense.type || ')', ', ') AS purchasedLicenseNames,   COUNT(purchasedLicense.name) AS purchasedLicenseCount,   TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auCreationDate,     p.auCreationUser,   TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auModificationDate,      p.auModificationUser    FROM         LicenseManagement p         INNER JOIN LicenseTools version ON p.version_pid = version.persistenceid         INNER JOIN LicenseManagementType licenseManagementType ON p.licensemanagementtype_pid = licenseManagementType.persistenceid  INNER JOIN Subscription subscription ON p.subscription_pid = subscription.persistenceid         INNER JOIN Licensemanagem_licenses lml ON p.persistenceid = lml.licensemanagement_pid         INNER JOIN PurchasedLicense purchasedLicense ON lml.purchasedlicense_pid = purchasedLicense.persistenceid    GROUP BY         p.persistenceid,        version.versionDisplayed,        p.requestKey,        licenseManagementType.name,        p.numberOfDays, subscription_persistenceid, subscription_sfid,         subscription.name,        p.auCreationDate,        p.auCreationUser,        p.auModificationDate,        p.auModificationUser ) SELECT     COUNT(*) AS COUNT FROM     aggregated_data WHERE     :s = '' OR    UPPER(persistenceid_string) LIKE '%' || UPPER(:s) || '%' OR    UPPER(version_versionDisplayed) LIKE '%' || UPPER(:s) || '%' OR    UPPER(requestKey) LIKE '%' || UPPER(:s) || '%' OR    UPPER(licenseManagementType_name) LIKE '%' || UPPER(:s) || '%' OR    UPPER(numberOfDays::TEXT) LIKE '%' || UPPER(:s) || '%' OR UPPER(subscription_persistenceid) LIKE '%' || UPPER(:s) || '%' OR  UPPER(subscription_sfid) LIKE '%' || UPPER(:s) || '%' OR    UPPER(subscription_name) LIKE '%' || UPPER(:s) || '%' OR    UPPER(auCreationUser) LIKE '%' || UPPER(:s) || '%' OR    UPPER(auModificationUser) LIKE '%' || UPPER(:s) || '%' OR UPPER(purchasedLicenseNames) LIKE '%' || UPPER(:s) || '%' OR    auCreationDate LIKE '%' || UPPER(:s) || '%' OR  auModificationDate LIKE '%' || UPPER(:s) || '%'
#getLicenseManagementType=SELECT p.persistenceid::VARCHAR AS persistenceid_string, p.name, p.description, TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auCreationDate , auCreationUser, TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auModificationDate, auModificationUser FROM LicenseManagementType p WHERE (:s = '' OR ( UPPER(CAST(p.persistenceid AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.name AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.description AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.auCreationUser AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.auModificationUser AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') LIKE '%'|| UPPER(:s) || '%' OR TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') LIKE '%'|| UPPER(:s) || '%' ))  :o LIMIT :c OFFSET (:p*:c)
#getLicenseManagementTypeCount=SELECT COUNT(1) FROM LicenseManagementType p WHERE  (:s = '' OR ( UPPER(CAST(p.persistenceid AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.name AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.description AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.auCreationUser AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.auModificationUser AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') LIKE '%'|| UPPER(:s) || '%' OR TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') LIKE '%'|| UPPER(:s) || '%' )) 
#getSubscription=SELECT p.sfId, p.name, p.account, p.edition, TO_CHAR(TO_DATE(p.startDate, 'YYYY-MM-DD'), 'DD/MM/YYYY') AS startDate, TO_CHAR(TO_DATE(p.endDate, 'YYYY-MM-DD'), 'DD/MM/YYYY') AS endDate, p.persistenceid::VARCHAR AS persistenceid_string FROM Subscription p WHERE (:s = '' OR ( UPPER(CAST(p.sfId AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.name AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.account AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.edition AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR TO_CHAR(TO_DATE(p.startDate, 'YYYY-MM-DD'), 'DD/MM/YYYY') LIKE '%'|| UPPER(:s) || '%' OR TO_CHAR(TO_DATE(p.endDate, 'YYYY-MM-DD'), 'DD/MM/YYYY') LIKE '%'|| UPPER(:s) || '%' )) :o LIMIT :c OFFSET (:p*:c)
#getSubscriptionCount=SELECT COUNT(1) FROM Subscription p WHERE (:s = '' OR ( UPPER(CAST(p.sfId AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.name AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.account AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(p.edition AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR TO_CHAR(TO_DATE(p.startDate, 'YYYY-MM-DD'), 'DD/MM/YYYY') LIKE '%'|| UPPER(:s) || '%' OR TO_CHAR(TO_DATE(p.endDate, 'YYYY-MM-DD'), 'DD/MM/YYYY') LIKE '%'|| UPPER(:s) || '%' ))
#getAddon=SELECT p.persistenceid::VARCHAR AS persistenceid_string, p.name, p.description, p.displayBonitaAccess AS displayBonitaAccess, p.display, p.shortCode AS shortCode, TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auCreationDate, auCreationUser, TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auModificationDate, auModificationUser FROM Addon p WHERE (:s = '' OR (UPPER(CAST(p.persistenceid AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.name AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.description AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.displayBonitaAccess AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.display AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.shortCode AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.auCreationUser AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.auModificationUser AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') LIKE '%' || UPPER(:s) || '%' OR TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') LIKE '%' || UPPER(:s) || '%')) :o LIMIT :c OFFSET (:p * :c)
#getAddonCount=SELECT COUNT(1) FROM Addon p WHERE (:s = '' OR (UPPER(CAST(p.persistenceid AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.name AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.description AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.displayBonitaAccess AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.display AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.shortCode AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.auCreationUser AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(CAST(p.auModificationUser AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') LIKE '%' || UPPER(:s) || '%' OR TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') LIKE '%' || UPPER(:s) || '%'))
#getAddonByPersistenceId=SELECT p.persistenceid::VARCHAR AS persistenceid_string, p.name, p.description, p.displayBonitaAccess AS displayBonitaAccess, p.display, p.shortCode AS shortCode, TO_CHAR(TO_TIMESTAMP(p.auCreationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auCreationDate, auCreationUser, TO_CHAR(TO_TIMESTAMP(p.auModificationDate, 'YYYY-MM-DD"T"HH24:MI:SS.US"Z"'), 'DD/MM/YYYY HH24:MI:SS') AS auModificationDate, auModificationUser FROM Addon p WHERE CAST(p.persistenceid AS TEXT) = :s :o LIMIT :c OFFSET (:p * :c)
#getAddonByPersistenceIdCount=SELECT COUNT(1) FROM Addon p WHERE CAST(p.persistenceid AS TEXT) = :s
#getActiveSubscriptions=SELECT s.persistenceid::VARCHAR AS persistenceid_string, s.sfId, s.name, s.account, s.supportLevel, s.edition, s.startDate, s.endDate, s.active  FROM subscription s WHERE s.active = TRUE AND (:s = '' OR UPPER(CAST(s.persistenceid AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(s.sfId AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.name) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.account) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.supportLevel) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.edition) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.startDate::TEXT) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.endDate::TEXT) LIKE '%' || UPPER(:s) || '%' ) :o LIMIT :c OFFSET (:p*:c)
#getActiveSubscriptionsCount=SELECT COUNT(1) FROM subscription s WHERE s.active = TRUE AND (:s = '' OR UPPER(CAST(s.persistenceid AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(s.sfId AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.name) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.account) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.supportLevel) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.edition) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.startDate::TEXT) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.endDate::TEXT) LIKE '%' || UPPER(:s) || '%' ) 
#getAllSubscriptions=SELECT s.persistenceid::VARCHAR AS persistenceid_string, s.sfId, s.name, s.account, s.supportLevel, s.edition, s.startDate, s.endDate, s.active  FROM subscription s WHERE (:s = '' OR UPPER(CAST(s.persistenceid AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(s.sfId AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.name) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.account) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.supportLevel) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.edition) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.startDate::TEXT) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.endDate::TEXT) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.active::TEXT) LIKE '%' || UPPER(:s) || '%' ) :o LIMIT :c OFFSET (:p*:c)
#getAllSubscriptionsCount=SELECT COUNT(1) FROM subscription s WHERE (:s = '' OR UPPER(CAST(s.persistenceid AS TEXT)) LIKE '%'|| UPPER(:s) || '%' OR UPPER(CAST(s.sfId AS TEXT)) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.name) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.account) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.supportLevel) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.edition) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.startDate::TEXT) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.endDate::TEXT) LIKE '%' || UPPER(:s) || '%' OR UPPER(s.active::TEXT) LIKE '%' || UPPER(:s) || '%' )